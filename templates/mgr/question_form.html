{% if form.errors %}
    {% for key, value in form.errors.items %}
        <div class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Error:</span>
            {{ key }}: {{ value }}
        </div>
    {% endfor %}
{% endif %}
<div class="row">
    <div class="col-md-8 col-md-offset-2">
        <div class="panel panel-primary">
            <div class="panel-heading">{{ question.question_number }} {{ question.field_of_question }}</div>
            <div class="panel-body" style="color: #000000">{{ question.value }}</div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-10 col-md-offset-4">
        <div class="form-group">
            {% for hidden in form.hidden_fields %}
                {{ hidden }}
            {% endfor %}
            {% for field in form.visible_fields %}
                {{ field.label_tag }} {{ field }}
            {% endfor %}
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-10 col-md-offset-4">
        <div class="form-group">
            <label for="id_answer_1" style="width: 245.5px">A:<input class="form-control" id="answer_A" name="answer_A" type="text" readonly="True"
                                                                     value="{{ question.answer_1 }}"></label>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-10 col-md-offset-4">
        <div class="form-group">
            <label for="id_answer_2">B:<input class="form-control" id="answer_B" name="answer_B" type="text" value="{{ question.answer_2|default_if_none:"" }}"></label>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-10 col-md-offset-4">
        <div class="form-group">
            <label for="id_answer_3">C:<input class="form-control" id="answer_C" name="answer_C" type="text" value="{{ question.answer_3|default_if_none:"" }}"></label>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-10 col-md-offset-4">
        <div class="form-group">
            <label for="id_answer_4">D:<input class="form-control" id="answer_D" name="answer_D" type="text" value="{{ question.answer_4|default_if_none:"" }}"></label>
        </div>
    </div>
</div>

{% block script %}
    <script>
        $(document).ready(function () {
            var answer_1 = "{{ question.answer_1 }}";
            if (answer_1.length > 32) {
                $('#answer_A').replaceWith('<textarea class="form-control" id="answer_A" name="answer_A" type="text" readonly="True" style="width: 450px; display:inline">{{ question.answer_1 }}</textarea>')
            }
            //TODO: Automatyczna zmiana inputa na textarea po wpisaniu 24 znakow
{#            var xTriggered = 0;#}
{#            $("[id^=answer_]").keypress(function(event){#}
{#                console.log("KEY PRESS");#}
{#                xTriggered++;#}
{#                if(xTriggered>=24){#}
{#                    console.log("ZMIANA");#}
{#                    var style = $(this).attr('style');#}
{#                    var text = $(this).text();#}
{#                    var textbox = $(document.createElement('textarea')).attr('style', style).attr('class','form-control');#}
{#                    $(this).replaceWith(textbox);#}
{#                    xTriggered=0;#}
{#                }#}
{#            })#}
{#        });#}
    </script>
{% endblock %}